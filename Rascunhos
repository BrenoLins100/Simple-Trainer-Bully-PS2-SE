-- compilando script lua

luac -o "script.lur" script.lua

-- Editando arquivo img

img -open "../script.img" -add "script.lur" -rebuild



-- Exemplo script mini missão

function MissionSetup()

 PlayerSetHealth(300) --This could be moved to main since there's no point in having an entire MissionSetup function to do just one thing, but you decide. (MissionSetup is not mandatory, but if present, it will be the first function read by the game)

end

function main()

 AreaTransitionXYZ(0, 270, -110, 6)
 Johnny = PedCreateXYZ(23, YourX, YourY, YourZ) --Replace the cords for both peds. (duh)
 Peanut = PedCreateXYZ(21, YourX, YourY, YourZ)
 PedSetWeapon(Johnny, 300, 1)
 PedSetWeapon(Peanut, 395, 1)
 PedSetHealth(Johnny, 2000)
 PedSetHealth(Peanut, 33)
 TextPrintString("Defeat the Greasers", 5, 1)
 PedSetPedToTypeAttitude(Johnny, 13, 0)
 PedSetPedToTypeAttitude(Peanut, 13, 0)
 PedAttackPlayer(Johnny, 3)
 PedAttackPlayer(Peanut, 3)

 repeat
  Wait(0)
 until PedIsDead(Johnny) and PedIsDead(Peanut)

 MissionSucceed()

end


--- FIM SCRIPT MINI MISSÃO

---Exemplo setando estilo de pedreste

-- get target pedestrian number.
local TARGET = PedGetTargetPed(gPlayer)

-- check if pedestrian number is a valid ped.
if PedIsValid(TARGET) then
    -- press Zoom Out to change NPC fighting style.
    if IsButtonBeingPressed(3, 0) then
        PedSetActionTree(TARGET, '/Global/Nemesis', 'Act/Anim/Nemesis.act')
    end
end

-- FIM SETANDO ESTILO DE PEDRESTE

-- Exemplo opção do menu

function WeaponSelector()
  local options = {
    {name = "yardstick", id = 299},
    {name = "bat", id = 300},
  }
  local s = 1
  repeat
    if IsButtonBeingPressed(0,0) and s > 1 then
      s = s - 1
    elseif IsButtonBeingPressed(1,0) and s < table.getn(options) then
      s = s + 1
    end
    TextPrintString(s.."-"..options[s].name,1,1)
    Wait(0)
    if IsButtonBeingPressed(3,0) then
     -- PedSetWeapon(gPlayer,options[s].id,1)
     TextPrintString(tostring(IsItemAWeapon(options[s].id)),1,2) -- verificando se o item é uma arma
    end
  until IsButtonBeingPressed(14,0)
end

-- FIM EXEMPLO OPÇÃO DO MENU


-- Botões
-- Here's a list of buttons too for anyone who needs it. One that is properly titled with the actions, rather than keys/buttons.

0   Show Secondary Tasks
1   Show Tasks/Objectives
2   Zoom in
3   Zoom out
4   Map Menu
5   Pause Menu
6   Melee Attack
7   Sprint
8   Jump
9   Grapple
10   Lock On
11   Previous Weapon
12   Weapon Fire
13   Next Weapon
14   Look Back
15   Crouch


-- string symbols
-- from unkn0wnsoldier1138

\n - create new line
~n~ - create new line
~RUN~ - sprint button
\a - sprint button
~ACCELERATE~ - sprint button
~TAG_START~ - sprint
~GRAPPLE - grapple button
\b - grapple button
~TAG_COMBO3~ - grapple button
~ACTION~ - grapple button (buggy)
~JUMP~ - jump button
\t - jump button
~CANCEL~ - jump
~o~ - jump
~ATTACK~ - melee attack button
\f - melee attack button
~SHOVEL~ - melee attack button
~BRAKE~ - melee attack button
~TAG_COMBO1~ - melee attack button
~ATTACK_R~ - weapon wheel right
~SCROLL_WEAPR~ - weapon wheel right
~ATTACK_L~ - weapon wheel left
~SCROLL_WEAPL~ - weapon wheel left
~FIRE_WEAPON~ - weapon fire
~lstick~ - move controls (?)
~rstick~ - camera controls (?)
~bullet~ - bullet
~blipup~ - triangle blip
~blipdown~ - upside down triangle blip(floors)
~MANUAL_LOCK~ - lockon
\r - lockon
\16 - camera down
\22 - bullworth logo
~BULLY_CREST~ - bullworth logo
~dup~ - zoom in button
\14 - zoom in button
~ddown~ - zoom out button
\15 - zoom out button
~dleft~ - left task button
~dright~ - right task button
~LOOK_BACK~ - look back button
Ã„ - save book
~save~ - save book
